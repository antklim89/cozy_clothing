site_url: https://cozy-clothing.netlify.app

backend:
  name: git-gateway
  branch: main

publish_mode: editorial_workflow
media_folder: static/img
public_folder: /img

collections:
  - label: 'Data'
    name: 'data'
    files:
      - file: 'content/catalog/catalog.md'
        label: 'Catalog'
        name: 'catalog'
        allow_add: true
        fields:
        - label: 'Group'
          name: 'group'
          widget: 'list'
          allow_add: true
          fields:
              - label: 'Name'
                name: 'name'
                widget: 'string'
              - label: 'Description'
                name: 'description'
                widget: 'string'
        - label: 'Category'
          name: 'category'
          widget: 'list'
          allow_add: true
          fields:
              - label: 'Name'
                name: 'name'
                widget: 'string'
              - label: 'Description'
                name: 'description'
                widget: 'string'

# Products collection
  - name: 'product'
    label: 'Product'
    folder: 'content/product'
    create: true
    slug: '{{type}}-{{category}}-{{name}}'
    media_folder: ''
    public_folder: ''
    path: '{{type}}/{{category}}/{{name}}'
    editor:
      preview: true
    fields:
      - label: 'Name'
        name: 'name'
        widget: 'string'
      - label: 'Publish Date'
        name: 'date'
        widget: 'datetime'
      - label: 'Description'
        name: 'description'
        widget: 'string'
      - label: 'Body'
        name: 'body'
        widget: 'markdown'
      - label: 'Price'
        name: 'price'
        widget: 'number'
      - label: "Type"
        name: "type"
        widget: "select"
        options: ["men", "women", "children"]
      - label: 'Category'
        name: 'category'
        widget: 'relation'
        collection: 'data'
        search_fields: ['list.*.name']
        value_field: 'list.*.name'
# ===========================================

# Category of Products
  # - name: 'category'
  #   label: 'Category'
  #   folder: 'content/category'
  #   create: true
  #   slug: '{{name}}'
  #   path: '{{name}}'
  #   editor:
  #     preview: true
  #   fields:
  #     - label: 'Name'
  #       name: 'name'
  #       widget: 'string'
# ===========================================